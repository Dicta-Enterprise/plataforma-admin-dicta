<div class="flex justify-content-between flex-wrap">
  <div class="flex align-items-center mb-3 md:mb-0">
    <div class="text-900 font-bold text-3xl">PLANETAS</div>
    <p-badge
      [value]="(planetas$ | async)?.length || 0"
      class="ml-3 bg-gray-200 text-gray-900 p-0 border-circle"
    ></p-badge>
  </div>
</div>
<p class="text-600 text-xl">
  Descripción
</p>
<p-divider class="w-full"></p-divider>

<p-table
    #dt2
    [value]="(planetas$ | async) ?? []"
    dataKey="id"
    [rows]="10"
    [rowsPerPageOptions]="[10, 25, 50]"
    [loading]="loading"
    [paginator]="true"
    [globalFilterFields]="['indice', 'nombre', 'grupo', 'tema', 'estado']"
    [tableStyle]="{ 'min-width': '75rem' }"
>    
    <ng-template #header>
        <tr>
            <th style="width:15%">Índice</th>
            <th style="width:25%">Nombre</th>
            <th style="width:20%">Grupo</th>
            <th style="width:10%">Tema</th>
            <th style="width:20%">Estado</th>
            <th style="width:10%">Ver</th>

        </tr>
        <tr>
            <th>
                <p-columnFilter type="text" field="indice" placeholder="Type to search" ariaLabel="Filter Indice" filterOn="input"></p-columnFilter>
            </th>
            <th>
                <p-columnFilter type="text" field="nombre" placeholder="Enter key to search" ariaLabel="Filter Nombre"></p-columnFilter>
            </th>
            <th>
                <p-columnFilter type="text" field="grupo" placeholder="Enter key to search" ariaLabel="Filter Grupo"></p-columnFilter>
            </th>
            <th>
                <p-columnFilter type="text" field="tema" placeholder="Enter key to search" ariaLabel="Filter Tema"></p-columnFilter>
            </th>
            <th>
                <p-columnFilter type="text" field="estado" placeholder="Enter key to search" ariaLabel="Filter Estado"></p-columnFilter>
            </th>            
            <th>                
            </th>
        </tr>
    </ng-template>
    <ng-template #body let-planeta let-i="rowIndex">
        <tr>
            <td>
                {{ i + 1 + (dt2.first ?? 0) }}                
            </td>
            <td>
                {{ planeta.nombre }}
            </td>
            <td>
                {{ planeta.grupo }}
            </td>
            <td>
                {{ planeta.tema }}
            </td>
            <td>
                {{ planeta.estado }}
            </td>
            <td class="text-center">
                <button
                    pButton
                    type="button"
                    icon="pi pi-eye"
                    class="p-button-rounded p-button-text"
                    pTooltip="Ver imagen"
                    tooltipPosition="top"
                    (click)="verImagen(planeta)"
                ></button>
            </td>     
        </tr>
    </ng-template>
    <ng-template #emptymessage>
        <tr>
            <td colspan="6" class="text-center">No hay planetas disponibles.</td>
        </tr>
    </ng-template>
</p-table>


