<h2>Par√°metros Configurables</h2>

<p-treetable [value]="files" [scrollable]="true" [tableStyle]="{'min-width':'50rem'}">
  <ng-template #header>
    <tr>
      <th>Nombre</th>
      <th>ID</th>
      <th>Code</th>
      <th>Acciones</th>
    </tr>
  </ng-template>
  <ng-template #body let-rowNode let-rowData="rowData">
    <tr [ttRow]="rowNode">
      <td>
        <div class="flex items-center gap-2">
          <p-treetable-toggler [rowNode]="rowNode"></p-treetable-toggler>
          <span>{{ rowData.name }}</span>
        </div>
      </td>
      <td>{{ rowData.size }}</td>
      <td>{{ rowData.type }}</td>
      <td>
        <button *ngIf="rowNode.children" pButton type="button" label="Agregar" icon="pi pi-plus" (click)="openNewValueModal(rowNode)"></button>
      </td>
    </tr>
  </ng-template>
</p-treetable>

<p-dialog header="Agregar nuevo valor" [(visible)]="displayModal" [modal]="true" [closable]="false" [style]="{width: '350px'}">
  <div class="p-fluid">
    <div class="p-field">
      <label for="value">Value</label>
      <input id="value" type="text" pInputText [(ngModel)]="newValue" />
    </div>
    <div class="p-field">
      <label for="code">Code</label>
      <input id="code" type="text" pInputText [(ngModel)]="newCode" />
    </div>
  </div>
  <p-footer>
    <button pButton type="button" label="Cancelar" icon="pi pi-times" (click)="displayModal = false"></button>
    <button pButton type="button" label="Guardar" icon="pi pi-check" (click)="saveNewValue()" [disabled]="!newValue || !newCode"></button>
  </p-footer>
</p-dialog>
